const translations = {
  en: {
    flag: 'gb.png',
    name: 'English',
    'home-title': 'Short Quiz About Artificial Intelligence',
    'home-terms': 'Terms of Use and Privacy Policy',
    'q1-title': '1. In which field is artificial intelligence used?',
    'q1-A': 'A) Medicine',
    'q1-B': 'B) Sports',
    'q1-C': 'C) Cooking recipes',
    'q1-D': 'D) Tourism',
    'q2-title': "2. What does 'AI' stand for?",
    'q2-A': 'A) Intelligent Internet',
    'q2-B': 'B) Artificial Intelligence',
    'q2-C': 'C) Algorithm Inspection',
    'q2-D': 'D) New Technology',
    'q3-title': '3. What does deep learning involve?',
    'q3-A': 'A) Algorithm',
    'q3-B': 'B) Graphics card',
    'q3-C': 'C) Big data',
    'q3-D': 'D) Software',
    'q4-title': '4. What is the main goal of artificial intelligence?',
    'q4-A': 'A) Entertainment',
    'q4-B': 'B) Mimic intelligence',
    'q4-C': 'C) Data storage',
    'q4-D': 'D) Internet enhancement',
    'q5-title': '5. Which tool is used to develop AI?',
    'q5-A': 'A) TensorFlow',
    'q5-B': 'B) Photoshop',
    'q5-C': 'C) Excel',
    'q5-D': 'D) Google Maps',
    'q6-title': '6. What type of data does AI process?',
    'q6-A': 'A) Text',
    'q6-B': 'B) Visual',
    'q6-C': 'C) Audio',
    'q6-D': 'D) All',
    'cf-title': 'How can we contact you?',
    'cf-description': 'Please fill out the form below',
    'cf-terms':
      'I have read and accept the <a href="./terms.html" target="_blank"><u>terms and conditions</u></a> and the <a href="./privacy.html" target="_blank"><u>privacy policy</u></a>.',
    'cf-button': 'Done!',
    firstName: 'First Name',
    lastName: 'Last Name',
    email: 'Email',
    phone: 'Phone'
  },
  es: {
    flag: 'es.png',
    name: 'Español',
    'home-title': 'Breve cuestionario sobre Inteligencia Artificial',
    'home-terms': 'Términos de uso y política de privacidad',
    'q1-title': '1. ¿En qué campo se utiliza la inteligencia artificial?',
    'q1-A': 'A) Medicina',
    'q1-B': 'B) Deportes',
    'q1-C': 'C) Recetas de cocina',
    'q1-D': 'D) Turismo',
    'q2-title': "2. ¿Qué significa 'IA'?",
    'q2-A': 'A) Internet Inteligente',
    'q2-B': 'B) Inteligencia Artificial',
    'q2-C': 'C) Inspección de Algoritmos',
    'q2-D': 'D) Nueva Tecnología',
    'q3-title': '3. ¿Qué implica el aprendizaje profundo?',
    'q3-A': 'A) Algoritmo',
    'q3-B': 'B) Tarjeta gráfica',
    'q3-C': 'C) Grandes datos',
    'q3-D': 'D) Software',
    'q4-title':
      '4. ¿Cuál es el objetivo principal de la inteligencia artificial?',
    'q4-A': 'A) Entretenimiento',
    'q4-B': 'B) Imitar la inteligencia',
    'q4-C': 'C) Almacenamiento de datos',
    'q4-D': 'D) Mejora de Internet',
    'q5-title': '5. ¿Qué herramienta se utiliza para desarrollar IA?',
    'q5-A': 'A) TensorFlow',
    'q5-B': 'B) Photoshop',
    'q5-C': 'C) Excel',
    'q5-D': 'D) Google Maps',
    'q6-title': '6. ¿Qué tipo de datos procesa la IA?',
    'q6-A': 'A) Texto',
    'q6-B': 'B) Visual',
    'q6-C': 'C) Audio',
    'q6-D': 'D) Todos',
    'cf-title': '¿Cómo podemos contactarte?',
    'cf-description': 'Por favor completa el siguiente formulario',
    'cf-terms':
      'He leído y acepto los <a href="./terms.html" target="_blank"><u>términos y condiciones</u></a> y la <a href="./privacy.html" target="_blank"><u>política de privacidad</u></a>.',
    'cf-button': '¡Hecho!',
    firstName: 'Nombre',
    lastName: 'Apellido',
    email: 'Correo electrónico',
    phone: 'Teléfono'
  },
  it: {
    flag: 'it.png',
    name: 'Italiano',
    'home-title': "Breve quiz sull'intelligenza artificiale",
    'home-terms': 'Termini di utilizzo e Informativa sulla privacy',
    'q1-title': "1. In quale campo si utilizza l'intelligenza artificiale?",
    'q1-A': 'A) Medicina',
    'q1-B': 'B) Sport',
    'q1-C': 'C) Ricette di cucina',
    'q1-D': 'D) Turismo',
    'q2-title': "2. Cosa significa 'AI'?",
    'q2-A': 'A) Internet Intelligente',
    'q2-B': 'B) Intelligenza Artificiale',
    'q2-C': 'C) Ispezione degli Algoritmi',
    'q2-D': 'D) Nuova Tecnologia',
    'q3-title': '3. Cosa comporta il deep learning?',
    'q3-A': 'A) Algoritmo',
    'q3-B': 'B) Scheda grafica',
    'q3-C': 'C) Big data',
    'q3-D': 'D) Software',
    'q4-title':
      "4. Qual è l'obiettivo principale dell'intelligenza artificiale?",
    'q4-A': 'A) Intrattenimento',
    'q4-B': "B) Imitare l'intelligenza",
    'q4-C': 'C) Archiviazione dati',
    'q4-D': 'D) Potenziamento di Internet',
    'q5-title': "5. Quale strumento viene utilizzato per sviluppare l'IA?",
    'q5-A': 'A) TensorFlow',
    'q5-B': 'B) Photoshop',
    'q5-C': 'C) Excel',
    'q5-D': 'D) Google Maps',
    'q6-title': "6. Quali tipi di dati elabora l'IA?",
    'q6-A': 'A) Testo',
    'q6-B': 'B) Visivo',
    'q6-C': 'C) Audio',
    'q6-D': 'D) Tutti',
    'cf-title': 'Come possiamo contattarti?',
    'cf-description': 'Compila il modulo qui sotto',
    'cf-terms':
      'Ho letto e accetto i <a href="./terms.html" target="_blank"><u>termini e condizioni</u></a> e l’<a href="./privacy.html" target="_blank"><u>informativa sulla privacy</u></a>.',
    'cf-button': 'Fatto!',
    firstName: 'Nome',
    lastName: 'Cognome',
    email: 'Email',
    phone: 'Telefono'
  },
  fr: {
    flag: 'fr.png',
    name: 'Français',
    'home-title': "Petit quiz sur l'intelligence artificielle",
    'home-terms': "Conditions d'utilisation et Politique de confidentialité",
    'q1-title':
      "1. Dans quel domaine l'intelligence artificielle est-elle utilisée?",
    'q1-A': 'A) Médecine',
    'q1-B': 'B) Sports',
    'q1-C': 'C) Recettes de cuisine',
    'q1-D': 'D) Tourisme',
    'q2-title': "2. Que signifie 'IA'?",
    'q2-A': 'A) Internet Intelligent',
    'q2-B': 'B) Intelligence Artificielle',
    'q2-C': 'C) Inspection des Algorithmes',
    'q2-D': 'D) Nouvelle Technologie',
    'q3-title': "3. Qu'implique l'apprentissage profond?",
    'q3-A': 'A) Algorithme',
    'q3-B': 'B) Carte graphique',
    'q3-C': 'C) Big data',
    'q3-D': 'D) Logiciel',
    'q4-title':
      "4. Quel est le principal objectif de l'intelligence artificielle?",
    'q4-A': 'A) Divertissement',
    'q4-B': "B) Imiter l'intelligence",
    'q4-C': 'C) Stockage des données',
    'q4-D': "D) Amélioration d'Internet",
    'q5-title': "5. Quel outil est utilisé pour développer l'IA?",
    'q5-A': 'A) TensorFlow',
    'q5-B': 'B) Photoshop',
    'q5-C': 'C) Excel',
    'q5-D': 'D) Google Maps',
    'q6-title': "6. Quel type de données l'IA traite-t-elle?",
    'q6-A': 'A) Texte',
    'q6-B': 'B) Visuel',
    'q6-C': 'C) Audio',
    'q6-D': 'D) Tout',
    'cf-title': 'Comment pouvons-nous vous contacter?',
    'cf-description': 'Veuillez remplir le formulaire ci-dessous',
    'cf-terms':
      'J’ai lu et j’accepte les <a href="./terms.html" target="_blank"><u>conditions générales</u></a> et la <a href="./privacy.html" target="_blank"><u>politique de confidentialité</u></a>.',
    'cf-button': 'Terminé!',
    firstName: 'Prénom',
    lastName: 'Nom',
    email: 'Email',
    phone: 'Téléphone'
  },
  tr: {
    flag: 'tr.png',
    name: 'Türkçe',
    'home-title': 'Yapay Zekâ Hakkında Kısa Test',
    'home-terms': 'Kullanım Şartları ve Gizlilik Politikası',
    'q1-title': '1. Yapay zekâ hangi alanda kullanılır?',
    'q1-A': 'A) Tıp',
    'q1-B': 'B) Spor',
    'q1-C': 'C) Yemek tarifleri',
    'q1-D': 'D) Turizm',
    'q2-title': "2. 'AI' ne anlama gelir?",
    'q2-A': 'A) Akıllı İnternet',
    'q2-B': 'B) Yapay Zekâ',
    'q2-C': 'C) Algoritma İncelemesi',
    'q2-D': 'D) Yeni Teknoloji',
    'q3-title': '3. Derin öğrenme neyi içerir?',
    'q3-A': 'A) Algoritma',
    'q3-B': 'B) Grafik kartı',
    'q3-C': 'C) Büyük veri',
    'q3-D': 'D) Yazılım',
    'q4-title': '4. Yapay zekânın temel amacı nedir?',
    'q4-A': 'A) Eğlence',
    'q4-B': 'B) Zekâyı taklit etmek',
    'q4-C': 'C) Veri saklama',
    'q4-D': 'D) İnternet artırımı',
    'q5-title': '5. Hangi araç AI geliştirmek için kullanılır?',
    'q5-A': 'A) TensorFlow',
    'q5-B': 'B) Photoshop',
    'q5-C': 'C) Excel',
    'q5-D': 'D) Google Maps',
    'q6-title': '6. AI hangi tür veriyi işler?',
    'q6-A': 'A) Yazılı',
    'q6-B': 'B) Görsel',
    'q6-C': 'C) Ses',
    'q6-D': 'D) Hepsi',
    'cf-title': 'Sizinle nasıl iletişim kurabiliriz?',
    'cf-description': 'Lütfen aşağıdaki formu doldurun',
    'cf-terms':
      'Başvuru <a href="./terms.html" target="_blank"><u>şartlar ve koşullarını</u></a> ve <a href="./privacy.html" target="_blank"><u>gizlilik politikasını</u></a> okudum ve kabul ediyorum.',
    'cf-button': 'Tamam!',
    firstName: 'Ad',
    lastName: 'Soyad',
    email: 'E-posta',
    phone: 'Telefon'
  },
  ms: {
    flag: 'my.png',
    name: 'Melayu',

    'home-title': 'Kuiz Ringkas Tentang Kecerdasan Buatan',
    'home-terms': 'Syarat Penggunaan dan Dasar Privasi',
    'q1-title': '1. Dalam bidang apa kecerdasan buatan digunakan?',
    'q1-A': 'A) Perubatan',
    'q1-B': 'B) Sukan',
    'q1-C': 'C) Resipi masakan',
    'q1-D': 'D) Pelancongan',
    'q2-title': "2. Apa maksud 'AI'?",
    'q2-A': 'A) Internet Pintar',
    'q2-B': 'B) Kecerdasan Buatan',
    'q2-C': 'C) Kajian Algoritma',
    'q2-D': 'D) Teknologi Baru',
    'q3-title': '3. Apa yang terlibat dalam pembelajaran mendalam?',
    'q3-A': 'A) Algoritma',
    'q3-B': 'B) Kad grafik',
    'q3-C': 'C) Data besar',
    'q3-D': 'D) Perisian',
    'q4-title': '4. Apakah tujuan utama kecerdasan buatan?',
    'q4-A': 'A) Hiburan',
    'q4-B': 'B) Meniru kecerdasan',
    'q4-C': 'C) Penyimpanan data',
    'q4-D': 'D) Peningkatan internet',
    'q5-title': '5. Alat mana yang digunakan untuk membangunkan AI?',
    'q5-A': 'A) TensorFlow',
    'q5-B': 'B) Photoshop',
    'q5-C': 'C) Excel',
    'q5-D': 'D) Google Maps',
    'q6-title': '6. Apakah jenis data yang diproses oleh AI?',
    'q6-A': 'A) Teks',
    'q6-B': 'B) Visual',
    'q6-C': 'C) Audio',
    'q6-D': 'D) Semua',
    'cf-title': 'Bagaimana kami boleh menghubungi anda?',
    'cf-description': 'Sila isi borang di bawah',
    'cf-terms':
      'Saya telah membaca dan menerima <a href="./terms.html" target="_blank"><u>syarat dan ketentuan</u></a> dan <a href="./privacy.html" target="_blank"><u>dasar privasi</u></a>.',
    'cf-button': 'Selesai!',
    firstName: 'Nama Pertama',
    lastName: 'Nama Keluarga',
    email: 'E-mel',
    phone: 'Telefon'
  }
}

document.addEventListener('DOMContentLoaded', () => {
  const dropdownButton = document.getElementById('dropdown-button');
  const dropdownMenu = document.getElementById('dropdown-menu');
  const currentLangImg = document.getElementById('current_lang-img');

  const populateDropdown = () => {
    Object.keys(translations).forEach(lang => {
      const option = document.createElement('a');
      option.href = `?lang=${lang}`;
      option.innerHTML = `
        <img src="../assets/img/${translations[lang].flag}" alt="${translations[lang].name}" class="flag" />
        ${translations[lang].name}
      `;
      dropdownMenu.appendChild(option);
    });
  };

  const toggleDropdown = () => {
    dropdownMenu.classList.toggle('visible');
  };

  const closeDropdownOnClickOutside = event => {
    if (!document.getElementById('language-selector').contains(event.target)) {
      dropdownMenu.classList.remove('visible');
    }
  };

  const updateContentByLanguage = lang => {
    const selectedTranslations = translations[lang] || translations['en'];
    Object.keys(selectedTranslations).forEach(key => {
      const element = document.getElementById(key);
      if (element) {
        if (element.tagName === 'INPUT') {
          element.placeholder = selectedTranslations[key];
        } else {
          element.innerHTML = selectedTranslations[key];
        }
      }
    });
    if (currentLangImg) {
      currentLangImg.src = `../assets/img/${selectedTranslations.flag}`;
      currentLangImg.alt = selectedTranslations.name;
    }
  };

  const getUserLanguage = () => {
    const userLang = new URLSearchParams(window.location.search).get('lang');
    return translations[userLang] ? userLang : 'en';
  };

  const initialize = () => {
    populateDropdown();
    const lang = getUserLanguage();
    updateContentByLanguage(lang);
    dropdownButton.addEventListener('click', toggleDropdown);
    document.addEventListener('click', closeDropdownOnClickOutside);
  };

  initialize();
});
