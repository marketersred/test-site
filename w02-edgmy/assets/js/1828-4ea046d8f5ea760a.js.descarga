(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1828],{1259:function(e,a,r){"use strict";r.d(a,{Z:function(){return M}});var i=r(85893),n=r(67294),s=r(11163),d=r(88115),l=r.n(d),o=r(94644),t=r(40853),c=r.n(t),v=r(10682);let m=e=>{let{id:a,setPushDownImageHeight:r,slots:s}=e,[d,l]=(0,n.useState)(null),[o,t]=(0,n.useState)(window.innerWidth),m=(e,a,i)=>{for(let n=0;n<(null==e?void 0:e.length);n++)o>800?l(setTimeout(()=>{var a;let i=null===(a=e[n])||void 0===a?void 0:a.height;r(i)},1e3)):o<=800&&o>415?l(setTimeout(()=>{var e;let i=null===(e=a[n])||void 0===e?void 0:e.height;r(i)},1e3)):l(setTimeout(()=>{var e;let a=null===(e=i[n])||void 0===e?void 0:e.height;r(a)},1e3))};return(0,n.useEffect)(()=>{let e=document.getElementById(a),r=new MutationObserver(function(e,a){for(let r of e){let i=null==document?void 0:document.getElementsByClassName("pushdown-desktop"),n=null==document?void 0:document.getElementsByClassName("pushdown-tablet"),s=null==document?void 0:document.getElementsByClassName("pushdown-mobile");m(i,n,s)}});r.observe(e,{attributes:!0,childList:!0,subtree:!0});let i=()=>{t(null==window?void 0:window.innerWidth)};return window.addEventListener("resize",i),()=>{r.disconnect(),window.removeEventListener("resize",i),d&&clearTimeout(d)}},[]),(0,i.jsx)(v.Z,{children:(0,i.jsx)("div",{className:c().pushDownAdWrap,style:s&&s[a]?{display:"block"}:{display:"none"},children:(0,i.jsx)("div",{id:a})})})};var p=r(35005),h=r(53511),u=r(77070),_=r(34051),y=r(31555),x=r(79376),N=r(27058),j=r(20561),g=r(25675),H=r.n(g),f=r(7041),w=r(46066),k=r(86010),P=r(66955),b=r(70521),C=r(39718),W=r(16810),D=r(27484),I=r.n(D),B=r(69408),L=r(28055),T=r(77368),S=r(92382),E=r(16651);function M(e){var a,r;let d=(0,s.useRouter)(),t=(0,n.useRef)(null),[c,g]=(0,n.useState)(0),[D,M]=(0,n.useState)(null),[Z,A]=(0,n.useState)(!1),[Y,R]=(0,n.useState)(!1),Q=(0,n.useRef)(null),z=(0,n.useRef)(!0),[O,U]=(0,n.useState)(!1),[X,F]=(0,n.useState)(""),[J,q]=(0,n.useState)([]),[G,V]=(0,n.useState)([]),[K,$]=(0,n.useState)([]),[ee,ea]=(0,n.useState)([]),[er,ei]=(0,n.useState)("0"),[en,es]=(0,n.useState)(!1),{pageDark:ed}=e,el=e=>{let a=document.getElementById("overlayhandle");(null==a?void 0:a.contains(e.target))&&U(!1)},eo=e=>e.split(",")[0],et=e=>{let a=[];for(let r=0;r<e.length;r++){Object.freeze(e[r]);let i={...e[r]};(null==i?void 0:i.child)===0&&(null==i?void 0:i.status)===1?a.push(i):(null==i?void 0:i.child)===0&&(null==i?void 0:i.label)==="Just In"?a.push(i):(null==i?void 0:i.child)===1&&(i.data=[...et(null==i?void 0:i.data)],a.push(i))}return a},ec=()=>{(async()=>{try{let e=await fetch("/api/getMenuApi"),a=await e.json();if(a&&a.results){var r,i;T.h.dispatch((0,S.M)(null==a?void 0:a.results));let n=et(null===(r=a.results.find(e=>"main_menu"===e.id))||void 0===r?void 0:r.data)||[];q([...n]),V(null===(i=a.results.find(e=>"trending_now"===e.id))||void 0===i?void 0:i.data)}}catch(s){console.log(s)}})()},ev=async e=>{(async()=>{try{let a=await fetch("/api/getJustIn?justIn="+encodeURIComponent(e)),r=await a.json();r&&r.results&&$(r.results)}catch(i){console.log(i)}})()};function em(){var a;U(!1);let r=document.getElementById("header"),i=(null==t?void 0:null===(a=t.current)||void 0===a?void 0:a.offsetTop)+200;e.pageDark?window.scrollY>i?(null==r||r.classList.remove("PrimayHeader_bgColor__aCo65"),null==r||r.classList.add("stickyDark")):(null==r||r.classList.remove("stickyDark"),null==r||r.classList.add("PrimayHeader_bgColor__aCo65")):window.scrollY>i?null==r||r.classList.add("sticky"):null==r||r.classList.remove("sticky")}(0,n.useEffect)(()=>(z.current&&(z.current=!1,ec()),window.addEventListener("scroll",em),window.addEventListener("mouseover",el),()=>{window.removeEventListener("scroll",em),window.removeEventListener("mouseover",el)}),[]),(0,n.useEffect)(()=>{let e=()=>{let e=document.documentElement.scrollTop,a=document.documentElement.scrollHeight-document.documentElement.clientHeight;g(Number("".concat(e/a)))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)});let ep=(e,a,r)=>{a&&F(r),U(a),M(null==e?void 0:e.currentTarget)},eh=()=>{e_.current&&e_.current.slickNext()},eu=()=>{e_.current&&e_.current.slickPrev()},e_=(0,n.useRef)(null),ey=e=>{A(e)},ex=e=>{R(e)},eN=(e,a)=>{if(ea(e),ee!==e&&a&&a.data){var r,i;let n=null===(r=null==a?void 0:null===(i=a.data)||void 0===i?void 0:i.find(e=>"Just In"===e.label))||void 0===r?void 0:r.query;ev(n)}};return(0,i.jsxs)("div",{className:ed?(0,k.W)(l().primaryHeaderContainer,l().infoHeader):l().primaryHeaderContainer,children:[(0,i.jsx)(C.Z,{modalStatus:Z,setModalStatus:ey}),(0,i.jsx)(W.Z,{modalStatus:Y,setModalStatus:ex,handleModal:ey,trendingNow:G,menuData:J}),(0,i.jsxs)("div",{id:"overlayhandle",children:[(0,i.jsx)("div",{className:"".concat(l().pushdownAdWrap," ").concat(e.pageDark?l().darkMode:""),onClick:()=>{O&&ep(null,!1,"")},style:{height:er},children:(null==e?void 0:e.showAd)?(0,i.jsx)(m,{id:null==e?void 0:e.id,slots:e.slots,setPushDownImageHeight:ei}):null}),(0,i.jsx)("div",{className:l().stocksSliderConatiner,onClick:()=>{O&&ep(null,!1,"")},children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)("div",{className:"".concat(l().headerTop," ").concat(e.pageDark?l().bgColor:""),onClick:()=>{O&&ep(null,!1,"")},children:(0,i.jsx)(v.Z,{children:(0,i.jsxs)("div",{className:l().headerInfoWrap,children:[(0,i.jsxs)("div",{className:l().dateInfo,children:[(0,i.jsxs)("span",{className:"".concat(e.pageDark?l().TextColor:""),children:[["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()]," "]}),(0,i.jsx)("span",{className:"".concat(e.pageDark?l().TextColor:""),children:I()(new Date).format("DD MMM YYYY")})]}),(0,i.jsx)("div",{className:l().primaryLogo,children:(0,i.jsx)("a",{href:"/",children:e.pageDark?(0,i.jsx)(P.z,{}):(0,i.jsx)(x.t,{})})}),(0,i.jsx)("div",{className:l().headeLoginBtn})]})})})]}),(0,i.jsxs)("div",{className:"".concat(l().stickyHeaderContainer," ").concat(e.pageDark?l().bgColor:""),id:"header",ref:t,children:[(0,i.jsx)(v.Z,{children:(0,i.jsxs)("div",{className:l().stickyMenuWrap,children:[(0,i.jsx)("div",{className:"stickyHeaderLogo",children:(0,i.jsx)("a",{href:"/",children:(0,i.jsx)(x.t,{})})}),(0,i.jsx)("div",{className:l().menuBtnWrap,children:(0,i.jsx)(p.Z,{variant:"outline-primary",className:"".concat(l().menuBtn," ").concat(e.pageDark?l().bgTransparent:""),onClick:()=>{R(!0),U(!1)},children:(0,i.jsxs)("div",{className:l().btnInner,children:[(0,i.jsx)("div",{className:l().btnIcon,children:(0,i.jsx)(N.O,{})}),(0,i.jsx)("div",{className:l().btnText})]})})}),(0,i.jsx)("div",{className:e.pageDark?l().headerNavigationWrapDark:l().headerNavigationWrap,children:(0,i.jsxs)("div",{className:"header-slider",children:[(0,i.jsx)(w.Z,{ref:e_,autoplay:!1,cssEase:"linear",variableWidth:!0,arrows:!1,infinite:!0,speed:500,slidesToScroll:1,className:l().headerNavigation,children:J.map((a,r)=>{var n,s;return(0,i.jsx)("div",{className:l().navBtnWrap,ref:Q,children:(0,i.jsx)("a",{href:a.path,onClick:e=>{a.subCategory&&e.preventDefault()},children:(0,i.jsx)(p.Z,{variant:"outline-primary",className:d.asPath.toLowerCase()===encodeURI(a.path).toLowerCase()&&!a.child||(null==a?void 0:a.child)&&(null===(n=null==a?void 0:a.data[1])||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.filter(e=>decodeURI(d.asPath)===e.path).length)>0?(0,k.W)(l().headerNavBtn,l().headerActive):l().headerNavBtn,onClick:e=>{(null==a?void 0:a.child)===1&&(e.preventDefault(),ep(e,!!a.child,a.label))},onMouseEnter:e=>{eN(a.label,a),ep(e,!!a.child,a.label)},children:(0,i.jsx)("span",{children:(0,i.jsx)("span",{className:"".concat(e.pageDark?l().LinkItemDark:""),children:a.label})})})})},a.id)})}),(0,i.jsx)("div",{className:l().primaryHeaderNavBtnWrap,children:(0,i.jsxs)("div",{className:l().sliderNavButtonWrap,children:[(0,i.jsx)(p.Z,{className:l().sliderNavButtonLeft,onClick:()=>{eu(),U(!1)},children:(0,i.jsx)(E.Z,{})}),(0,i.jsx)(p.Z,{onClick:()=>{eh(),U(!1)},className:l().sliderNavButtonRight,children:(0,i.jsx)(E.Z,{})})]})})]})}),(0,i.jsx)("div",{className:"".concat(l().headerSearchWrap," ").concat(e.pageDark?l().bgTransparentSearch:""),children:(0,i.jsx)("div",{onClick:()=>{A(!0),U(!1)},className:l().searchBox,children:e.pageDark?(0,i.jsx)(b.i,{}):(0,i.jsx)(j.W,{})})})]})}),(0,i.jsx)(h.Z,{show:O,target:D,placement:"bottom",containerPadding:0,rootClose:!0,popperConfig:{modifiers:[{name:"offset",enabled:!0,options:{offset:[0,32]}}]},children:(0,i.jsx)(u.Z,{className:l().popoverWrap,id:"popover-contained",children:(0,i.jsx)(v.Z,{children:(0,i.jsx)(u.Z.Body,{onMouseLeave:()=>{ep(null,!1,"")},children:(0,i.jsxs)("div",{className:l().popoverBody,children:[(0,i.jsx)("div",{className:l().popoverHead,children:(0,i.jsx)("span",{className:l().popoverHeadText,children:X})}),(0,i.jsx)("div",{className:l().popoverContent,children:(0,i.jsxs)(_.Z,{children:[(0,i.jsx)(y.Z,{lg:4,children:(0,i.jsx)("div",{className:l().popoverLinks,children:(0,i.jsxs)("ul",{children:[null===(a=null===(r=J.find(e=>e.label===X))||void 0===r?void 0:r.data[1].data)||void 0===a?void 0:a.map((e,a)=>(0,i.jsx)("li",{onClick:()=>{U(!1)},children:(0,i.jsx)("a",{href:e.path,children:(0,i.jsx)("span",{children:e.label})})},e.id)),";"]})})}),(0,i.jsx)(y.Z,{lg:4,children:(0,i.jsx)("div",{className:l().popoverNewsList,children:K&&K.map((e,a)=>(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:l().popoverNewsItem,children:[(0,i.jsx)("div",{className:l().popoverNewsImage,children:(0,i.jsx)("a",{href:"video"===e.type?"/edge-tv-detail?id=".concat(null==e?void 0:e.alias):"/".concat(null==e?void 0:e.alias),children:(0,i.jsx)(H(),{src:en?"/images/default_theedgemarkets.jpeg":null==e?void 0:e.img,alt:"News listing",width:100,height:75,onError:()=>es(!0)})})}),(0,i.jsxs)("div",{className:l().popoverNewsContent,children:[(0,i.jsxs)("div",{className:l().popoverNewsInfo,children:[(0,i.jsx)("div",{className:(null==e?void 0:e.flash)?l().popoverNewsTag:l().popoverNewsNoTag,children:(0,i.jsx)("a",{href:(0,B.h)((null==e?void 0:e.flash)?"flash-categories":"",eo((null==e?void 0:e.flash)?null==e?void 0:e.flash:"")),children:(0,i.jsx)("span",{children:eo((null==e?void 0:e.flash)?e.flash:"")})})}),(0,i.jsx)("div",{className:l().popoverNewsDate,children:(0,i.jsx)("span",{children:(0,L.LL)(null==e?void 0:e.created,"Asia/Kuala_Lumpur","DD MMM YYYY, hh:mm a")})})]}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:l().popoverNewsText,children:(0,i.jsx)("a",{href:"video"===e.type?"/edge-tv-detail?id=".concat(null==e?void 0:e.alias):"/".concat(null==e?void 0:e.alias),children:(0,i.jsx)("span",{children:e.title})})})})]})]})},null==e?void 0:e.nid))})}),(0,i.jsx)(y.Z,{lg:4,children:(0,i.jsx)(f.Z,{trendingNow:G,from:"overlay"})})]})})]})})})})}),["microsite","content","node"].includes(d.asPath.split("/")[1])||"article"===d.pathname.split("/")[1]?(0,i.jsx)("div",{id:"progressBarContainer",children:(0,i.jsx)("div",{id:"progressBar",style:{transform:"scale(".concat(c,", 1)")}})}):null]}),(0,i.jsx)("div",{className:"".concat(l().mobileHeader," ").concat(e.pageDark?l().mobileDarkHeader:""),id:"header",ref:t,children:(0,i.jsx)(v.Z,{children:(0,i.jsxs)("div",{className:l().mobileHeaderInner,children:[(0,i.jsx)("div",{className:"".concat(l().mobileMenuIcon," ").concat(e.pageDark?l().mobileMenuIconDark:""),onClick:()=>{R(!0)},children:(0,i.jsx)(N.O,{})}),(0,i.jsx)("div",{className:l().mobilerPimaryLogo,children:(0,i.jsx)("a",{href:"/",children:e.pageDark?(0,i.jsx)(P.z,{}):(0,i.jsx)(x.t,{})})}),(0,i.jsx)("div",{className:l().mobilesearch,onClick:()=>A(!0),children:e.pageDark?(0,i.jsx)(b.i,{}):(0,i.jsx)(j.W,{})})]})})})]})}},40853:function(e){e.exports={pushDownAdWrap:"PushDownAd_pushDownAdWrap__XexQ0"}},88115:function(e){e.exports={primaryHeaderContainer:"PrimayHeader_primaryHeaderContainer__9Vgua",stocksSliderConatiner:"PrimayHeader_stocksSliderConatiner__8YeNj",darkMode:"PrimayHeader_darkMode__wP08y",headerTop:"PrimayHeader_headerTop__DsVFX",headerInfoWrap:"PrimayHeader_headerInfoWrap__WBTf6",primaryLogo:"PrimayHeader_primaryLogo__4XGH3",dateInfo:"PrimayHeader_dateInfo__iVkzt",headeLoginBtn:"PrimayHeader_headeLoginBtn___PNPD",stickyHeaderContainer:"PrimayHeader_stickyHeaderContainer__LvrnC",stickyMenuWrap:"PrimayHeader_stickyMenuWrap__iYeHH",menuBtnWrap:"PrimayHeader_menuBtnWrap__Q1fZr",menuBtn:"PrimayHeader_menuBtn__9zjZE",btnInner:"PrimayHeader_btnInner__BNWFt",btnIcon:"PrimayHeader_btnIcon__nW6D6",svgCircle:"PrimayHeader_svgCircle__3Menn",btnText:"PrimayHeader_btnText__i3QWC",iconWrap:"PrimayHeader_iconWrap__6heQG",headerNavigation:"PrimayHeader_headerNavigation__LV_sQ",headerNavBtn:"PrimayHeader_headerNavBtn__vl_wk",active:"PrimayHeader_active__th_ka",focus:"PrimayHeader_focus__FufAH",headerActive:"PrimayHeader_headerActive__f4Fue",navBtnWrap:"PrimayHeader_navBtnWrap__fWltr",headerNavigationWrap:"PrimayHeader_headerNavigationWrap__t8z8X",headerNavigationWrapDark:"PrimayHeader_headerNavigationWrapDark__qOJ8i",headerSearchWrap:"PrimayHeader_headerSearchWrap__P7dm1",searchBox:"PrimayHeader_searchBox__u9hUC",mobileHeader:"PrimayHeader_mobileHeader__Hkh17",mobileHeaderInner:"PrimayHeader_mobileHeaderInner__p_5E7",mobilerPimaryLogo:"PrimayHeader_mobilerPimaryLogo__Zltax",mobileMenuIcon:"PrimayHeader_mobileMenuIcon__utv6d",mobilesearch:"PrimayHeader_mobilesearch__vWloc",pushdownAdWrap:"PrimayHeader_pushdownAdWrap__rPG9H",header:"PrimayHeader_header__28714",popoverWrap:"PrimayHeader_popoverWrap__tg20r",popoverBody:"PrimayHeader_popoverBody__Nt_Po",popoverHead:"PrimayHeader_popoverHead__LrkcG",popoverHeadText:"PrimayHeader_popoverHeadText__Nsnvn",popoverLinks:"PrimayHeader_popoverLinks__6yBIJ",popoverNewsItem:"PrimayHeader_popoverNewsItem__LXLcS",popoverNewsImage:"PrimayHeader_popoverNewsImage__Revxh",popoverNewsInfo:"PrimayHeader_popoverNewsInfo__88Hb7",popoverNewsTag:"PrimayHeader_popoverNewsTag__sjUIv",popoverNewsDate:"PrimayHeader_popoverNewsDate__UXfIc",popoverNewsContent:"PrimayHeader_popoverNewsContent__j31lr",popoverNewsText:"PrimayHeader_popoverNewsText__K83OJ",TextColor:"PrimayHeader_TextColor__KA7tQ",bgColor:"PrimayHeader_bgColor__aCo65",bgTransparent:"PrimayHeader_bgTransparent__2CBrI",bgTransparentSearch:"PrimayHeader_bgTransparentSearch__ONPHT",mobileMenuIconDark:"PrimayHeader_mobileMenuIconDark__qXYOl",mobileDarkHeader:"PrimayHeader_mobileDarkHeader__wrTvq",LinkItemDark:"PrimayHeader_LinkItemDark__FeHfU",infoHeader:"PrimayHeader_infoHeader__ECdQQ",primaryHeaderNavBtnWrap:"PrimayHeader_primaryHeaderNavBtnWrap__MEb4d",sliderNavButtonWrap:"PrimayHeader_sliderNavButtonWrap__vdv4t",sliderNavButtonRight:"PrimayHeader_sliderNavButtonRight__ap3YQ",sliderNavButtonLeft:"PrimayHeader_sliderNavButtonLeft__fhr1_"}}}]);